{"version":3,"sources":["webpack:///./node_modules/events/events.js","webpack:///./node_modules/react-dfp/lib/index.js","webpack:///./node_modules/react-dfp/lib/adslot.js","webpack:///./node_modules/react-dfp/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/react-dfp/lib/dfpslotsprovider.js","webpack:///./node_modules/react-dfp/lib/utils.js","webpack:///./node_modules/react-dfp/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/react-dfp/lib/manager.js","webpack:///./node_modules/react-dfp/node_modules/prop-types/index.js"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","DFPSlotsProvider","AdSlot","DFPManager","_manager","_interopRequireDefault","_adslot","_dfpslotsprovider","obj","__esModule","default","_react","_propTypes","_typeof","Symbol","iterator","constructor","_extends","assign","source","hasOwnProperty","_objectSpread","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","_defineProperties","props","descriptor","configurable","writable","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","_assertThisInitialized","self","ReferenceError","dynamicAdCount","_React$Component","_this","instance","Constructor","_classCallCheck","doRegisterSlot","generateSlotId","getSlotId","mapContextToAdSlotProps","slotShouldRefresh","slotRenderEnded","slotRegisterCallback","slotIsViewable","slotVisibilityChanged","getClasses","slotId","className","adElementRef","createRef","element","protoProps","staticProps","subClass","superClass","_inherits","newSlotCallback","registerSlot","unregisterSlot","extraClasses","split","mappedProps","dfpNetworkId","dfpAdUnit","adUnit","dfpSizeMapping","sizeMapping","dfpTargetingArguments","targetingArguments","fetchNow","load","attachSlotRenderEnded","attachSlotIsViewable","attachSlotVisibilityChanged","setState","detachSlotRenderEnded","detachSlotIsViewable","detachSlotVisibilityChanged","eventData","onSlotRender","params","onSlotRegister","sizes","slotCount","onSlotIsViewable","onSlotVisibilityChanged","r","shouldRefresh","id","createElement","join","trim","ref","Component","string","arrayOf","oneOfType","number","renderOutOfThePage","bool","object","adSenseAttributes","func","Context","contextTypes","contextType","_default","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","array","symbol","any","elementType","instanceOf","node","objectOf","oneOf","shape","exact","checkPropTypes","PropTypes","createContext","loadAdsIfPossible","applyConfigs","shouldReloadConfig","attachLoadCallback","getContextValue","loadAlreadyCalled","loadCallbackAttached","shouldReloadAds","totalSlots","contextValue","getChildContext","autoLoad","nextProps","children","reload","_this$props","_this$contextValue","ctxDfpNetworkId","ctxDfpAdUnit","ctxDfpSizeMapping","ctxDfpTargetingArguments","configurePersonalizedAds","personalizedAds","configureCookieOption","cookieOption","configureSingleRequest","singleRequest","configureDisableInitialLoad","disableInitialLoad","configureLazyLoad","lazyLoad","setAdSenseAttributes","setCollapseEmptyDivs","collapseEmptyDivs","getRegisteredSlots","reloadConfig","autoReload","attrs","Provider","adSenseAttrs","fetchMarginPercent","renderMarginPercent","mobileScaling","childContextTypes","loadGPTScript","window","googletag","cmd","scriptTag","document","src","protocol","async","onerror","errs","onload","getElementsByTagName","appendChild","doloadGPTScript","Utils","newObj","desc","_interopRequireWildcard","loadPromise","googleGPTScriptLoadPromise","singleRequestEnabled","disableInitialLoadEnabled","lazyLoadEnabled","lazyLoadConfig","servePersonalizedAds","serveCookies","registeredSlots","managerAlreadyInitialized","globalTargetingArguments","globalAdSenseAttributes","singleRequestIsEnabled","disableInitialLoadIsEnabled","enable","config","conf","lazyLoadIsEnabled","getLazyLoadConfig","getAdSenseAttribute","personalizedAdsEnabled","cookiesEnabled","setAdSenseAttribute","getAdSenseAttributes","getGoogletag","then","pubadsService","pubads","setTargetingArguments","data","varName","setTargeting","getTargetingArguments","getSlotProperty","slot","getSlotTargetingArguments","propValue","getSlotAdSenseAttributes","addEventListener","event","getSlotElementId","setRequestNonPersonalizedAds","setCookieOptions","collapse","_this2","_len","slots","_key","doLoad","availableSlots","_len2","_key2","loading","gptSlot","gptLoadAds","slotsToInitialize","_this3","configureInitialOptions","currentSlotId","defineOutOfPageSlot","defineSlot","slotTargetingArguments","slotAdSenseAttributes","addService","smbuilder","mapping","addSize","viewport","defineSizeMapping","build","configureOptions","enableServices","theSlotId","display","_this4","_this5","enableLazyLoad","enableSingleRequest","getRefreshableSlots","_len3","slotsArray","_key3","slotsToRefresh","map","k","reduce","last","refresh","gptRefreshAds","_this6","_this7","destroyGPTSlots","_this8","_len4","slotsToDestroy","_key4","idx","_idx","_slot","destroySlots","_ref","_this9","catch","_ref2","cb"],"mappings":"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","file":"7d5ef946a871e9440eace2b681084c564e9d4667-4f337dba37ce713863ce.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DFPSlotsProvider = exports.AdSlot = exports.DFPManager = void 0;\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nvar _adslot = _interopRequireDefault(require(\"./adslot\"));\n\nvar _dfpslotsprovider = _interopRequireDefault(require(\"./dfpslotsprovider\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar DFPManager = _manager.default;\nexports.DFPManager = DFPManager;\nvar AdSlot = _adslot.default;\nexports.AdSlot = AdSlot;\nvar DFPSlotsProvider = _dfpslotsprovider.default;\nexports.DFPSlotsProvider = DFPSlotsProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AdSlot = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nvar _dfpslotsprovider = require(\"./dfpslotsprovider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar dynamicAdCount = 0;\n\nvar AdSlot = /*#__PURE__*/function (_React$Component) {\n  _inherits(AdSlot, _React$Component);\n\n  function AdSlot(props) {\n    var _this;\n\n    _classCallCheck(this, AdSlot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdSlot).call(this, props));\n    _this.doRegisterSlot = _this.doRegisterSlot.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.generateSlotId = _this.generateSlotId.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getSlotId = _this.getSlotId.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.mapContextToAdSlotProps = _this.mapContextToAdSlotProps.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotShouldRefresh = _this.slotShouldRefresh.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotRenderEnded = _this.slotRenderEnded.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotRegisterCallback = _this.slotRegisterCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotIsViewable = _this.slotIsViewable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.slotVisibilityChanged = _this.slotVisibilityChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getClasses = _this.getClasses.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      slotId: _this.props.slotId || null,\n      className: _this.props.className || ''\n    };\n    _this.adElementRef = _react.default.createRef ? _react.default.createRef() : function (element) {\n      _this.adElementRef = element;\n    };\n    return _this;\n  }\n\n  _createClass(AdSlot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // register this ad-unit in the <DFPSlotProvider>, when available.\n      if (this.context !== undefined && this.context.newSlotCallback) {\n        this.context.newSlotCallback();\n      }\n\n      this.registerSlot();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterSlot();\n    }\n  }, {\n    key: \"getSlotId\",\n    value: function getSlotId() {\n      return this.props.slotId || this.state.slotId;\n    }\n  }, {\n    key: \"getClasses\",\n    value: function getClasses() {\n      var baseClass = 'adunitContainer';\n      var extraClasses = this.state.className.split(' ');\n      extraClasses.push(baseClass);\n      return extraClasses;\n    }\n  }, {\n    key: \"generateSlotId\",\n    value: function generateSlotId() {\n      return \"adSlot-\".concat(dynamicAdCount++);\n    }\n  }, {\n    key: \"mapContextToAdSlotProps\",\n    value: function mapContextToAdSlotProps() {\n      var context = this.context;\n      var mappedProps = {};\n\n      if (context.dfpNetworkId !== undefined) {\n        mappedProps.dfpNetworkId = context.dfpNetworkId;\n      }\n\n      if (context.dfpAdUnit !== undefined) {\n        mappedProps.adUnit = context.dfpAdUnit;\n      }\n\n      if (context.dfpSizeMapping !== undefined) {\n        mappedProps.sizeMapping = context.dfpSizeMapping;\n      }\n\n      if (context.dfpTargetingArguments !== undefined) {\n        mappedProps.targetingArguments = context.dfpTargetingArguments;\n      }\n\n      return mappedProps;\n    }\n  }, {\n    key: \"doRegisterSlot\",\n    value: function doRegisterSlot() {\n      _manager.default.registerSlot(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, this.state, {\n        slotShouldRefresh: this.slotShouldRefresh\n      }));\n\n      if (this.props.fetchNow === true) {\n        _manager.default.load(this.getSlotId());\n      }\n\n      _manager.default.attachSlotRenderEnded(this.slotRenderEnded);\n\n      _manager.default.attachSlotIsViewable(this.slotIsViewable);\n\n      _manager.default.attachSlotVisibilityChanged(this.slotVisibilityChanged);\n\n      this.slotRegisterCallback();\n    }\n  }, {\n    key: \"registerSlot\",\n    value: function registerSlot() {\n      if (this.state.slotId === null) {\n        this.setState({\n          slotId: this.generateSlotId()\n        }, this.doRegisterSlot);\n      } else {\n        this.doRegisterSlot();\n      }\n    }\n  }, {\n    key: \"unregisterSlot\",\n    value: function unregisterSlot() {\n      _manager.default.unregisterSlot(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, this.state));\n\n      _manager.default.detachSlotRenderEnded(this.slotRenderEnded);\n\n      _manager.default.detachSlotIsViewable(this.slotIsViewable);\n\n      _manager.default.detachSlotVisibilityChanged(this.slotVisibilityChanged);\n    }\n  }, {\n    key: \"slotRenderEnded\",\n    value: function slotRenderEnded(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotRender !== undefined) {\n          // now that slot has rendered we have access to the ref\n          var params = _objectSpread({}, eventData, {\n            adElementRef: this.adElementRef\n          });\n\n          this.props.onSlotRender(params);\n        }\n      }\n    }\n  }, {\n    key: \"slotRegisterCallback\",\n    value: function slotRegisterCallback() {\n      if (typeof this.props.onSlotRegister === 'function') {\n        this.props.onSlotRegister({\n          slotId: this.getSlotId(),\n          sizes: this.props.sizes,\n          slotCount: dynamicAdCount,\n          adElementRef: this.adElementRef\n        });\n      }\n    }\n  }, {\n    key: \"slotIsViewable\",\n    value: function slotIsViewable(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotIsViewable !== undefined) {\n          this.props.onSlotIsViewable(eventData);\n        }\n      }\n    }\n  }, {\n    key: \"slotVisibilityChanged\",\n    value: function slotVisibilityChanged(eventData) {\n      if (eventData.slotId === this.getSlotId()) {\n        if (this.props.onSlotVisibilityChanged !== undefined) {\n          this.props.onSlotVisibilityChanged(eventData);\n        }\n      }\n    }\n  }, {\n    key: \"slotShouldRefresh\",\n    value: function slotShouldRefresh() {\n      var r = true;\n\n      if (this.props.shouldRefresh !== undefined) {\n        r = this.props.shouldRefresh(_objectSpread({}, this.mapContextToAdSlotProps(), this.props, {\n          slotId: this.getSlotId()\n        }));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var slotId = this.state.slotId;\n      var props = {\n        className: 'adBox'\n      };\n\n      if (slotId !== null) {\n        props.id = slotId;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: this.getClasses().join(' ').trim()\n      }, _react.default.createElement(\"div\", _extends({\n        ref: this.adElementRef\n      }, props)));\n    }\n  }]);\n\n  return AdSlot;\n}(_react.default.Component);\n\nexports.AdSlot = AdSlot;\n\n_defineProperty(AdSlot, \"propTypes\", {\n  dfpNetworkId: _propTypes.default.string,\n  adUnit: _propTypes.default.string,\n  sizes: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.number), _propTypes.default.string])),\n  renderOutOfThePage: _propTypes.default.bool,\n  sizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n  fetchNow: _propTypes.default.bool,\n  adSenseAttributes: _propTypes.default.object,\n  targetingArguments: _propTypes.default.object,\n  onSlotRender: _propTypes.default.func,\n  onSlotRegister: _propTypes.default.func,\n  onSlotIsViewable: _propTypes.default.func,\n  onSlotVisibilityChanged: _propTypes.default.func,\n  shouldRefresh: _propTypes.default.func,\n  slotId: _propTypes.default.string,\n  className: _propTypes.default.string\n});\n\n_defineProperty(AdSlot, \"defaultProps\", {\n  fetchNow: false\n});\n\nif (_dfpslotsprovider.Context === null) {\n  // React < 16.3\n  AdSlot.contextTypes = {\n    dfpNetworkId: _propTypes.default.string,\n    dfpAdUnit: _propTypes.default.string,\n    dfpSizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n    dfpTargetingArguments: _propTypes.default.object,\n    newSlotCallback: _propTypes.default.func\n  };\n} else {\n  AdSlot.contextType = _dfpslotsprovider.Context;\n}\n\nvar _default = AdSlot;\nexports.default = _default;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Context = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // React.createContext is undefined for React < 16.3\n\n\nvar Context = _react.default.createContext ? _react.default.createContext({\n  dfpNetworkId: null,\n  dfpAdUnit: null,\n  dfpSizeMapping: null,\n  dfpTargetingArguments: null,\n  newSlotCallback: null\n}) : null;\nexports.Context = Context;\n\nvar DFPSlotsProvider = /*#__PURE__*/function (_React$Component) {\n  _inherits(DFPSlotsProvider, _React$Component);\n\n  function DFPSlotsProvider(props) {\n    var _this;\n\n    _classCallCheck(this, DFPSlotsProvider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DFPSlotsProvider).call(this, props));\n    _this.loadAdsIfPossible = _this.loadAdsIfPossible.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.newSlotCallback = _this.newSlotCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.applyConfigs = _this.applyConfigs.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.shouldReloadConfig = _this.shouldReloadConfig.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.attachLoadCallback = _this.attachLoadCallback.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getContextValue = _this.getContextValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadAlreadyCalled = false;\n    _this.loadCallbackAttached = false;\n    _this.shouldReloadAds = false;\n    _this.totalSlots = 0;\n    _this.contextValue = {};\n\n    if (Context === null) {\n      _this.getChildContext = function () {\n        return _this.getContextValue();\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(DFPSlotsProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.applyConfigs();\n\n      if (this.props.autoLoad && !this.loadAdsIfPossible()) {\n        this.attachLoadCallback();\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      this.shouldReloadAds = this.shouldReloadConfig(nextProps);\n\n      if (nextProps.children !== this.props.children) {\n        return true;\n      }\n\n      if (nextProps.autoLoad && !this.props.autoLoad) {\n        return true;\n      }\n\n      return this.shouldReloadAds;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.applyConfigs();\n\n      if (this.props.autoLoad) {\n        if (this.loadAlreadyCalled) {\n          if (this.shouldReloadAds) {\n            _manager.default.reload();\n          }\n        } else if (!this.loadAdsIfPossible()) {\n          this.attachLoadCallback();\n        }\n      }\n\n      this.shouldReloadAds = false;\n    }\n  }, {\n    key: \"getContextValue\",\n    value: function getContextValue() {\n      var _this$props = this.props,\n          dfpNetworkId = _this$props.dfpNetworkId,\n          dfpAdUnit = _this$props.adUnit,\n          dfpSizeMapping = _this$props.sizeMapping,\n          dfpTargetingArguments = _this$props.targetingArguments,\n          _this$contextValue = this.contextValue,\n          ctxDfpNetworkId = _this$contextValue.dfpNetworkId,\n          ctxDfpAdUnit = _this$contextValue.adUnit,\n          ctxDfpSizeMapping = _this$contextValue.sizeMapping,\n          ctxDfpTargetingArguments = _this$contextValue.targetingArguments; // performance: update context value object only when any of its\n      // props is updated.\n\n      if (dfpNetworkId !== ctxDfpNetworkId || dfpAdUnit !== ctxDfpAdUnit || dfpSizeMapping !== ctxDfpSizeMapping || dfpTargetingArguments !== ctxDfpTargetingArguments) {\n        this.contextValue = {\n          dfpNetworkId: dfpNetworkId,\n          dfpAdUnit: dfpAdUnit,\n          dfpSizeMapping: dfpSizeMapping,\n          dfpTargetingArguments: dfpTargetingArguments,\n          newSlotCallback: this.newSlotCallback\n        };\n      }\n\n      return this.contextValue;\n    }\n  }, {\n    key: \"applyConfigs\",\n    value: function applyConfigs() {\n      _manager.default.configurePersonalizedAds(this.props.personalizedAds);\n\n      _manager.default.configureCookieOption(this.props.cookieOption);\n\n      _manager.default.configureSingleRequest(this.props.singleRequest);\n\n      _manager.default.configureDisableInitialLoad(this.props.disableInitialLoad);\n\n      _manager.default.configureLazyLoad(!!this.props.lazyLoad, typeof this.props.lazyLoad === 'boolean' ? null : this.props.lazyLoad);\n\n      _manager.default.setAdSenseAttributes(this.props.adSenseAttributes);\n\n      _manager.default.setCollapseEmptyDivs(this.props.collapseEmptyDivs);\n    }\n  }, {\n    key: \"attachLoadCallback\",\n    value: function attachLoadCallback() {\n      if (this.loadCallbackAttached === false) {\n        _manager.default.on('slotRegistered', this.loadAdsIfPossible);\n\n        this.loadCallbackAttached = true;\n        return true;\n      }\n\n      return false;\n    } // pretty strait-forward interface that children ad slots use to register\n    // with their DFPSlotProvider parent node.\n\n  }, {\n    key: \"newSlotCallback\",\n    value: function newSlotCallback() {\n      this.totalSlots++;\n    } // Checks all the mounted children ads have been already registered\n    // in the DFPManager before trying to call the gpt load scripts.\n    // This is helpful when trying to fetch ads with a single request.\n\n  }, {\n    key: \"loadAdsIfPossible\",\n    value: function loadAdsIfPossible() {\n      var r = false;\n\n      if (Object.keys(_manager.default.getRegisteredSlots()).length >= this.totalSlots) {\n        _manager.default.removeListener('slotRegistered', this.loadAdsIfPossible);\n\n        _manager.default.load();\n\n        this.loadAlreadyCalled = true;\n        this.loadCallbackAttached = false;\n        r = true;\n      }\n\n      return r;\n    }\n  }, {\n    key: \"shouldReloadConfig\",\n    value: function shouldReloadConfig(nextProps) {\n      var reloadConfig = nextProps.autoReload || this.props.autoReload;\n\n      if (this.props.autoLoad || nextProps.autoLoad) {\n        if (_typeof(reloadConfig) === 'object') {\n          var attrs = Object.keys(reloadConfig); // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n          for (var i in attrs) {\n            var propName = attrs[i]; // eslint-disable-next-line\n\n            if (reloadConfig[propName] === true && this.props[propName] !== nextProps[propName]) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n\n      if (Context === null) {\n        return children;\n      }\n\n      return _react.default.createElement(Context.Provider, {\n        value: this.getContextValue()\n      }, children);\n    }\n  }]);\n\n  return DFPSlotsProvider;\n}(_react.default.Component);\n\nexports.default = DFPSlotsProvider;\n\n_defineProperty(DFPSlotsProvider, \"propTypes\", {\n  children: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.array]).isRequired,\n  autoLoad: _propTypes.default.bool,\n  autoReload: _propTypes.default.shape({\n    dfpNetworkId: _propTypes.default.bool,\n    personalizedAds: _propTypes.default.bool,\n    cookieOption: _propTypes.default.bool,\n    singleRequest: _propTypes.default.bool,\n    disableInitialLoad: _propTypes.default.bool,\n    adUnit: _propTypes.default.bool,\n    sizeMapping: _propTypes.default.bool,\n    adSenseAttributes: _propTypes.default.bool,\n    targetingArguments: _propTypes.default.bool,\n    collapseEmptyDivs: _propTypes.default.bool,\n    lazyLoad: _propTypes.default.bool\n  }),\n  dfpNetworkId: _propTypes.default.string.isRequired,\n  personalizedAds: _propTypes.default.bool,\n  cookieOption: _propTypes.default.bool,\n  singleRequest: _propTypes.default.bool,\n  disableInitialLoad: _propTypes.default.bool,\n  adUnit: _propTypes.default.string,\n  sizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n  adSenseAttributes: _propTypes.default.object,\n  targetingArguments: _propTypes.default.object,\n  collapseEmptyDivs: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.object]),\n  adSenseAttrs: _propTypes.default.object,\n  lazyLoad: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.shape({\n    fetchMarginPercent: _propTypes.default.number,\n    renderMarginPercent: _propTypes.default.number,\n    mobileScaling: _propTypes.default.number\n  })])\n});\n\n_defineProperty(DFPSlotsProvider, \"defaultProps\", {\n  autoLoad: true,\n  autoReload: {\n    dfpNetworkId: false,\n    personalizedAds: false,\n    cookieOption: false,\n    singleRequest: false,\n    disableInitialLoad: false,\n    adUnit: false,\n    sizeMapping: false,\n    adSenseAttributes: false,\n    targetingArguments: false,\n    collapseEmptyDivs: false,\n    lazyLoad: false\n  },\n  personalizedAds: true,\n  cookieOption: true,\n  singleRequest: true,\n  disableInitialLoad: false,\n  collapseEmptyDivs: null,\n  lazyLoad: false\n});\n\nif (Context === null) {\n  // React < 16.3\n  DFPSlotsProvider.childContextTypes = {\n    dfpNetworkId: _propTypes.default.string,\n    dfpAdUnit: _propTypes.default.string,\n    dfpSizeMapping: _propTypes.default.arrayOf(_propTypes.default.object),\n    dfpTargetingArguments: _propTypes.default.object,\n    newSlotCallback: _propTypes.default.func\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadGPTScript = loadGPTScript;\n\nfunction doloadGPTScript(resolve, reject) {\n  window.googletag = window.googletag || {};\n  window.googletag.cmd = window.googletag.cmd || [];\n  var scriptTag = document.createElement('script');\n  scriptTag.src = \"\".concat(document.location.protocol, \"//securepubads.g.doubleclick.net/tag/js/gpt.js\");\n  scriptTag.async = true;\n  scriptTag.type = 'text/javascript';\n\n  scriptTag.onerror = function scriptTagOnError(errs) {\n    reject(errs);\n  };\n\n  scriptTag.onload = function scriptTagOnLoad() {\n    resolve(window.googletag);\n  };\n\n  document.getElementsByTagName('head')[0].appendChild(scriptTag);\n}\n\nfunction loadGPTScript() {\n  return new Promise(function (resolve, reject) {\n    doloadGPTScript(resolve, reject);\n  });\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _events = require(\"events\");\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar loadPromise = null;\nvar googleGPTScriptLoadPromise = null;\nvar singleRequestEnabled = true;\nvar disableInitialLoadEnabled = false;\nvar lazyLoadEnabled = false;\nvar lazyLoadConfig = null;\nvar servePersonalizedAds = true;\nvar serveCookies = true;\nvar registeredSlots = {};\nvar managerAlreadyInitialized = false;\nvar globalTargetingArguments = {};\nvar globalAdSenseAttributes = {};\nvar DFPManager = Object.assign(new _events.EventEmitter().setMaxListeners(0), {\n  singleRequestIsEnabled: function singleRequestIsEnabled() {\n    return singleRequestEnabled;\n  },\n  configureSingleRequest: function configureSingleRequest(value) {\n    singleRequestEnabled = !!value;\n  },\n  disableInitialLoadIsEnabled: function disableInitialLoadIsEnabled() {\n    return disableInitialLoadEnabled;\n  },\n  configureDisableInitialLoad: function configureDisableInitialLoad(value) {\n    disableInitialLoadEnabled = !!value;\n  },\n  configureLazyLoad: function configureLazyLoad() {\n    var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var conf = null;\n\n    if (config !== null && _typeof(config) === 'object') {\n      conf = _objectSpread({}, config);\n    }\n\n    lazyLoadEnabled = !!enable;\n    lazyLoadConfig = conf;\n  },\n  lazyLoadIsEnabled: function lazyLoadIsEnabled() {\n    return lazyLoadEnabled;\n  },\n  getLazyLoadConfig: function getLazyLoadConfig() {\n    return lazyLoadConfig;\n  },\n  getAdSenseAttribute: function getAdSenseAttribute(key) {\n    return globalAdSenseAttributes[key];\n  },\n  configurePersonalizedAds: function configurePersonalizedAds(value) {\n    servePersonalizedAds = value;\n  },\n  configureCookieOption: function configureCookieOption(value) {\n    serveCookies = value;\n  },\n  personalizedAdsEnabled: function personalizedAdsEnabled() {\n    return servePersonalizedAds;\n  },\n  cookiesEnabled: function cookiesEnabled() {\n    return serveCookies;\n  },\n  setAdSenseAttribute: function setAdSenseAttribute(key, value) {\n    this.setAdSenseAttributes(_defineProperty({}, key, value));\n  },\n  getAdSenseAttributes: function getAdSenseAttributes() {\n    return _objectSpread({}, globalAdSenseAttributes);\n  },\n  setAdSenseAttributes: function setAdSenseAttributes(attrs) {\n    Object.assign(globalAdSenseAttributes, attrs);\n\n    if (managerAlreadyInitialized === true) {\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          Object.keys(globalAdSenseAttributes).forEach(function (key) {\n            pubadsService.set(key, globalTargetingArguments[key]);\n          });\n        });\n      });\n    }\n  },\n  setTargetingArguments: function setTargetingArguments(data) {\n    Object.assign(globalTargetingArguments, data);\n\n    if (managerAlreadyInitialized === true) {\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          Object.keys(globalTargetingArguments).forEach(function (varName) {\n            if (pubadsService) {\n              pubadsService.setTargeting(varName, globalTargetingArguments[varName]);\n            }\n          });\n        });\n      });\n    }\n  },\n  getTargetingArguments: function getTargetingArguments() {\n    return _objectSpread({}, globalTargetingArguments);\n  },\n  getSlotProperty: function getSlotProperty(slotId, propName) {\n    var slot = this.getRegisteredSlots()[slotId];\n    var ret = null;\n\n    if (slot !== undefined) {\n      ret = slot[propName] || ret;\n    }\n\n    return ret;\n  },\n  getSlotTargetingArguments: function getSlotTargetingArguments(slotId) {\n    var propValue = this.getSlotProperty(slotId, 'targetingArguments');\n    return propValue ? _objectSpread({}, propValue) : null;\n  },\n  getSlotAdSenseAttributes: function getSlotAdSenseAttributes(slotId) {\n    var propValue = this.getSlotProperty(slotId, 'adSenseAttributes');\n    return propValue ? _objectSpread({}, propValue) : null;\n  },\n  init: function init() {\n    var _this = this;\n\n    if (managerAlreadyInitialized === false) {\n      managerAlreadyInitialized = true;\n      this.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          var pubadsService = googletag.pubads();\n          pubadsService.addEventListener('slotRenderEnded', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('slotRenderEnded', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.addEventListener('impressionViewable', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('impressionViewable', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.addEventListener('slotVisibilityChanged', function (event) {\n            var slotId = event.slot.getSlotElementId();\n\n            _this.emit('slotVisibilityChanged', {\n              slotId: slotId,\n              event: event\n            });\n          });\n          pubadsService.setRequestNonPersonalizedAds(_this.personalizedAdsEnabled() ? 0 : 1);\n          pubadsService.setCookieOptions(_this.cookiesEnabled() ? 0 : 1);\n        });\n      });\n    }\n  },\n  getGoogletag: function getGoogletag() {\n    if (googleGPTScriptLoadPromise === null) {\n      googleGPTScriptLoadPromise = Utils.loadGPTScript();\n    }\n\n    return googleGPTScriptLoadPromise;\n  },\n  setCollapseEmptyDivs: function setCollapseEmptyDivs(collapse) {\n    this.collapseEmptyDivs = collapse;\n  },\n  load: function load() {\n    var _this2 = this;\n\n    for (var _len = arguments.length, slots = new Array(_len), _key = 0; _key < _len; _key++) {\n      slots[_key] = arguments[_key];\n    }\n\n    if (loadPromise === null) {\n      loadPromise = this.doLoad.apply(this, slots);\n    } else {\n      loadPromise = loadPromise.then(function () {\n        return _this2.doLoad.apply(_this2, slots);\n      });\n    }\n  },\n  doLoad: function doLoad() {\n    this.init();\n    var availableSlots = {};\n\n    for (var _len2 = arguments.length, slots = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      slots[_key2] = arguments[_key2];\n    }\n\n    if (slots.length > 0) {\n      availableSlots = slots.filter(function (slotId) {\n        return Object.prototype.hasOwnProperty.call(registeredSlots, slotId);\n      });\n    } else {\n      availableSlots = Object.keys(registeredSlots);\n    }\n\n    availableSlots = availableSlots.filter(function (id) {\n      return !registeredSlots[id].loading && !registeredSlots[id].gptSlot;\n    });\n    availableSlots.forEach(function (slotId) {\n      registeredSlots[slotId].loading = true;\n    });\n    return this.gptLoadAds(availableSlots);\n  },\n  gptLoadAds: function gptLoadAds(slotsToInitialize) {\n    var _this3 = this;\n\n    return new Promise(function (resolve) {\n      _this3.getGoogletag().then(function (googletag) {\n        _this3.configureInitialOptions(googletag);\n\n        slotsToInitialize.forEach(function (currentSlotId) {\n          registeredSlots[currentSlotId].loading = false;\n          googletag.cmd.push(function () {\n            var slot = registeredSlots[currentSlotId];\n            var gptSlot;\n            var adUnit = \"\".concat(slot.dfpNetworkId, \"/\").concat(slot.adUnit);\n\n            if (slot.renderOutOfThePage === true) {\n              gptSlot = googletag.defineOutOfPageSlot(adUnit, currentSlotId);\n            } else {\n              gptSlot = googletag.defineSlot(adUnit, slot.sizes, currentSlotId);\n            }\n\n            if (gptSlot !== null) {\n              slot.gptSlot = gptSlot;\n\n              var slotTargetingArguments = _this3.getSlotTargetingArguments(currentSlotId);\n\n              if (slotTargetingArguments !== null) {\n                Object.keys(slotTargetingArguments).forEach(function (varName) {\n                  if (slot && slot.gptSlot) {\n                    slot.gptSlot.setTargeting(varName, slotTargetingArguments[varName]);\n                  }\n                });\n              }\n\n              var slotAdSenseAttributes = _this3.getSlotAdSenseAttributes(currentSlotId);\n\n              if (slotAdSenseAttributes !== null) {\n                Object.keys(slotAdSenseAttributes).forEach(function (varName) {\n                  slot.gptSlot.set(varName, slotAdSenseAttributes[varName]);\n                });\n              }\n\n              slot.gptSlot.addService(googletag.pubads());\n\n              if (slot.sizeMapping) {\n                var smbuilder = googletag.sizeMapping();\n                slot.sizeMapping.forEach(function (mapping) {\n                  smbuilder = smbuilder.addSize(mapping.viewport, mapping.sizes);\n                });\n                slot.gptSlot.defineSizeMapping(smbuilder.build());\n              }\n            }\n          });\n        });\n\n        _this3.configureOptions(googletag);\n\n        googletag.cmd.push(function () {\n          googletag.enableServices();\n\n          if (!_this3.disableInitialLoadIsEnabled()) {\n            slotsToInitialize.forEach(function (theSlotId) {\n              googletag.display(theSlotId);\n            });\n          }\n\n          resolve();\n        });\n      });\n    });\n  },\n  // configure those gpt parameters that need to be set before pubsads service\n  // initialization.\n  configureInitialOptions: function configureInitialOptions(googletag) {\n    var _this4 = this;\n\n    googletag.cmd.push(function () {\n      if (_this4.disableInitialLoadIsEnabled()) {\n        googletag.pubads().disableInitialLoad();\n      }\n    });\n  },\n  configureOptions: function configureOptions(googletag) {\n    var _this5 = this;\n\n    googletag.cmd.push(function () {\n      var pubadsService = googletag.pubads();\n      pubadsService.setRequestNonPersonalizedAds(_this5.personalizedAdsEnabled() ? 0 : 1);\n      pubadsService.setCookieOptions(_this5.cookiesEnabled() ? 0 : 1);\n\n      var targetingArguments = _this5.getTargetingArguments(); // set global targetting arguments\n\n\n      Object.keys(targetingArguments).forEach(function (varName) {\n        if (pubadsService) {\n          pubadsService.setTargeting(varName, targetingArguments[varName]);\n        }\n      }); // set global adSense attributes\n\n      var adSenseAttributes = _this5.getAdSenseAttributes();\n\n      Object.keys(adSenseAttributes).forEach(function (key) {\n        pubadsService.set(key, adSenseAttributes[key]);\n      });\n\n      if (_this5.lazyLoadIsEnabled()) {\n        var config = _this5.getLazyLoadConfig();\n\n        if (config) {\n          pubadsService.enableLazyLoad(config);\n        } else {\n          pubadsService.enableLazyLoad();\n        }\n      }\n\n      if (_this5.singleRequestIsEnabled()) {\n        pubadsService.enableSingleRequest();\n      }\n\n      if (_this5.collapseEmptyDivs === true || _this5.collapseEmptyDivs === false) {\n        pubadsService.collapseEmptyDivs(_this5.collapseEmptyDivs);\n      }\n    });\n  },\n  getRefreshableSlots: function getRefreshableSlots() {\n    var slots = {};\n\n    for (var _len3 = arguments.length, slotsArray = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      slotsArray[_key3] = arguments[_key3];\n    }\n\n    if (slotsArray.length === 0) {\n      var slotsToRefresh = Object.keys(registeredSlots).map(function (k) {\n        return registeredSlots[k];\n      });\n      return slotsToRefresh.reduce(function (last, slot) {\n        if (slot.slotShouldRefresh() === true) {\n          slots[slot.slotId] = slot;\n        }\n\n        return slots;\n      }, slots);\n    }\n\n    return slotsArray.reduce(function (last, slotId) {\n      var slot = registeredSlots[slotId];\n\n      if (typeof slot !== 'undefined') {\n        slots[slotId] = slot;\n      }\n\n      return slots;\n    }, slots);\n  },\n  refresh: function refresh() {\n    if (loadPromise === null) {\n      this.load();\n    } else {\n      this.gptRefreshAds(Object.keys(this.getRefreshableSlots.apply(this, arguments)));\n    }\n  },\n  gptRefreshAds: function gptRefreshAds(slots) {\n    var _this6 = this;\n\n    return this.getGoogletag().then(function (googletag) {\n      _this6.configureOptions(googletag);\n\n      googletag.cmd.push(function () {\n        var pubadsService = googletag.pubads();\n        pubadsService.refresh(slots.map(function (slotId) {\n          return registeredSlots[slotId].gptSlot;\n        }));\n      });\n    });\n  },\n  reload: function reload() {\n    var _this7 = this;\n\n    return this.destroyGPTSlots.apply(this, arguments).then(function () {\n      return _this7.load();\n    });\n  },\n  destroyGPTSlots: function destroyGPTSlots() {\n    var _this8 = this;\n\n    for (var _len4 = arguments.length, slotsToDestroy = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      slotsToDestroy[_key4] = arguments[_key4];\n    }\n\n    if (slotsToDestroy.length === 0) {\n      // eslint-disable-next-line no-param-reassign\n      slotsToDestroy = Object.keys(registeredSlots);\n    }\n\n    return new Promise(function (resolve) {\n      var slots = []; // eslint-disable-next-line guard-for-in,no-restricted-syntax\n\n      for (var idx in slotsToDestroy) {\n        var slotId = slotsToDestroy[idx];\n        var slot = registeredSlots[slotId];\n        slots.push(slot);\n      }\n\n      _this8.getGoogletag().then(function (googletag) {\n        googletag.cmd.push(function () {\n          if (managerAlreadyInitialized === true) {\n            if (slotsToDestroy.length > 0) {\n              // eslint-disable-next-line guard-for-in,no-restricted-syntax\n              for (var _idx in slots) {\n                var _slot = slots[_idx];\n                slots.push(_slot.gptSlot);\n                delete _slot.gptSlot;\n              }\n\n              googletag.destroySlots(slots);\n            } else {\n              googletag.destroySlots();\n            }\n          }\n\n          resolve(slotsToDestroy);\n        });\n      });\n    });\n  },\n  registerSlot: function registerSlot(_ref) {\n    var _this9 = this;\n\n    var slotId = _ref.slotId,\n        dfpNetworkId = _ref.dfpNetworkId,\n        adUnit = _ref.adUnit,\n        sizes = _ref.sizes,\n        renderOutOfThePage = _ref.renderOutOfThePage,\n        sizeMapping = _ref.sizeMapping,\n        adSenseAttributes = _ref.adSenseAttributes,\n        targetingArguments = _ref.targetingArguments,\n        slotShouldRefresh = _ref.slotShouldRefresh;\n    var autoLoad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (!Object.prototype.hasOwnProperty.call(registeredSlots, slotId)) {\n      registeredSlots[slotId] = {\n        slotId: slotId,\n        sizes: sizes,\n        renderOutOfThePage: renderOutOfThePage,\n        dfpNetworkId: dfpNetworkId,\n        adUnit: adUnit,\n        adSenseAttributes: adSenseAttributes,\n        targetingArguments: targetingArguments,\n        sizeMapping: sizeMapping,\n        slotShouldRefresh: slotShouldRefresh,\n        loading: false\n      };\n      this.emit('slotRegistered', {\n        slotId: slotId\n      });\n\n      if (autoLoad === true && loadPromise !== null) {\n        loadPromise = loadPromise.catch().then(function () {\n          var slot = registeredSlots[slotId];\n\n          if (typeof slot !== 'undefined') {\n            var loading = slot.loading,\n                gptSlot = slot.gptSlot;\n\n            if (loading === false && !gptSlot) {\n              _this9.load(slotId);\n            }\n          }\n        });\n      }\n    }\n  },\n  unregisterSlot: function unregisterSlot(_ref2) {\n    var slotId = _ref2.slotId;\n    this.destroyGPTSlots(slotId);\n    delete registeredSlots[slotId];\n  },\n  getRegisteredSlots: function getRegisteredSlots() {\n    return registeredSlots;\n  },\n  attachSlotRenderEnded: function attachSlotRenderEnded(cb) {\n    this.on('slotRenderEnded', cb);\n  },\n  detachSlotRenderEnded: function detachSlotRenderEnded(cb) {\n    this.removeListener('slotRenderEnded', cb);\n  },\n  attachSlotVisibilityChanged: function attachSlotVisibilityChanged(cb) {\n    this.on('slotVisibilityChanged', cb);\n  },\n  detachSlotVisibilityChanged: function detachSlotVisibilityChanged(cb) {\n    this.removeListener('slotVisibilityChanged', cb);\n  },\n  attachSlotIsViewable: function attachSlotIsViewable(cb) {\n    this.on('impressionViewable', cb);\n  },\n  detachSlotIsViewable: function detachSlotIsViewable(cb) {\n    this.removeListener('impressionViewable', cb);\n  }\n});\nvar _default = DFPManager;\nexports.default = _default;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n"],"sourceRoot":""}